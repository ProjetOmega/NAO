{% extends "OmegaNAOBundle::layout.html.twig" %}

{% block title %}
	Rechercher - {{ parent() }}
{% endblock %}

{% block naobundle_body %}
    {{ form(formRecherche) }} <br>
    <style>
       #map {
        height: 400px;
        width: 80%;
       }
    </style>
<div id="espece">
    {% if count > 0 %}
	<table  class="table-responsive">
		<th>Test espece</th>
        {% for i in 1..count %}
			<tr>
				<td>
					recherche {{ i-1 }} = {{ recherche[i-1].espece }} , {{ recherche[i-1].longitude }}, {{ recherche[i-1].latitude }}
				</td>
			</tr>
			<script>
				var map = new google.maps.Map(document.getElementById('map'), {zoom : 2});
                addMarkerWithBDD(5.274572, 47.7119232, map);
			</script>
        {% endfor %}
		{% endif %}
	</table></div>
    <div id="map"></div>
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script src="{{ asset('js/bootstrap3-typeahead.js')}}"></script>
	<script>
           var noms = {% if noms is defined %}
           	{{ noms|json_encode|raw }}
           	{% else %} null
           	{% endif %}
       </script>
	<script src="{{ asset('js/autocomplete.js') }}"></script>
	<script src="{{ asset('js/localisationRecherche.js') }}"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDtE4xVHrJdaSivopE-_T93pQfJ41Z3Hds&callback=initMap" async defer>
    </script>

{% endblock %}
